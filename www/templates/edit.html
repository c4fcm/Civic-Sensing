<ion-view hide-nav-bar="true">
  <ion-content id="editor">
    <div class="bar bar-header">
      <button class="button button-icon ion-android-arrow-back back"> EDIT</button>
      <button class="button button-icon ion-android-arrow-forward next" ng-click="shareImage()"></button>
    </div>
    <div class="main image-container" style="background-image: url({{image.URI}});">

<!--  CO -->
      <div class="filter co" ng-class="{selected: image.activeFilter == 'co'}" style="opacity: {{image.data.sensors[5].value / 200 }};">
      </div>

<!--  Sound -->
      <div class="filter sound" style="height: {{image.data.sensors[7].value / 150 * 100}}%;" ng-class="{selected: image.activeFilter == 'sound'}">
        <div id="sound-bars">
          <div class="sound-bar" ng-repeat="i in soundBars track by $index"></div>
        </div>
      </div>

<!--  Temp -->
      <div class="filter temp" ng-class="{selected: image.activeFilter == 'temp'}" style={{tempLevel}}></div>

<!--  Humidity -->
      <div class="filter humidity" ng-class="{selected: image.activeFilter == 'humidity'}" style="background-image: url('./img/humidity-'{{humidityLevel}}'.png');"></div>
    </div>

    <div id="controls">
      <ul id="filters">

<!--    CO filter  -->
        <li ng-click="applyFilter('co')" ng-class="{selected: image.activeFilter == 'co'}">
          <div class="preview image-container" style="background-image: url({{image.URI}});">
            <div class="filter co" ></div>
          </div>
          <icon class="ion-ios-cloudy-outline xl"></icon>
          <span>CO</span>
          <span class="reading">{{image.data.sensors[5].value | number: 0}}</span>
          <p class="unit">{{image.data.sensors[5].unit}}</p>
        </li>

<!--    Sound control  -->
        <li ng-click="applyFilter('sound')" ng-class="{selected: image.activeFilter == 'sound'}">
          <div class="preview image-container sound" style="background-image: url({{image.URI}});">
            <div class="filter sound" style="height: {{image.data.sensors[7].value / 150 * 100}}%;">
              <div class="sound-bar" ng-repeat="i in soundBars track by $index"></div>
            </div>
          </div>
          <icon class="icon ion-volume-high"></icon>
          <span>Sound</span>
          <span class="reading">{{image.data.sensors[7].value | number: 0}}</span>
          <p class="unit">{{image.data.sensors[7].unit}}</p>
        </li>

<!--    Temp filter  -->
        <li ng-click="applyFilter('temp')" ng-class="{selected: image.activeFilter == 'temp'}">
          <div class="preview image-container" style="background-image: url({{image.URI}});">
            <div class="filter temp" style={{tempLevel}}></div>
          </div>
          <icon class="icon ion-thermometer"></icon>
          <span>Temp</span>
          <span class="reading">{{image.data.sensors[3].value | number: 0}}</span>
          <p class="unit">{{image.data.sensors[3].unit}}</p>
        </li>

<!--    Humidity filter  -->
        <li ng-click="applyFilter('humidity')" ng-class="{selected: image.activeFilter == 'humidity'}">
          <div class="preview image-container" style="background-image: url({{image.URI}});">
            <div class="filter humidity"></div>
          </div>
          <icon class="icon ion-ios-rainy-outline xl"></icon>
          <span>Humidity</span>
          <span class="reading">{{image.data.sensors[2].value | number: 0}}</span>
          <p class="unit">{{image.data.sensors[2].unit}}</p>
        </li>     
      </ul>
    </div>  
  </ion-content>
</ion-view>


